# 🔑 키(Key)

## 🔑 0. 키?
- DB 검색, 정렬할 때 tuple을 구분할 수 있는 기준이 되는 attribute
  - 참고
  - ![image](https://user-images.githubusercontent.com/101535851/209802451-b670c89b-d288-44d3-8d90-bc4a1fd4aa47.png)

- <학생 릴레이션>
|학번|주민번호|성명|성별|
|-|-|-|-|
|1001|1111-2222|강윤주|여|
|1002|3333-4444|배서연|여|
|1003|5555-6666|장예주|여|
|1004|7777-8888|한선희|여|

- <도서 대여 릴레이션>
|학번|도서명|
|-|-|
|1001|k-pop은 이런 거다 짜식들아|
|1002|k-pop은 이런 거다 짜식들아|
|1003|k-pop은 이런 거다 짜식들아|
|1004|k-pop은 이런 거다 짜식들아|
|1003|마루는 강쥐|
|1002|엄마랑 평생 사는 방법|
|1004|나에게 허락된 고통은 근육통뿐|
|1001|무서운 게 딱 좋아!|

## 🔑 1. 후보키 (Candidate Key)

### 1️⃣ 개념

- tuple을 유일하게 식별하기 위해 사용하는 속성들의 부분 집합
- 기본키로 사용할 수 있는 속성들

### 2️⃣ 후보키가 만족해야 되는 조건

  1. 유일성 : key로 하나의 tuple을 유일하게 식별해야함
  2. 최소성 : 꼭 필요한 속성만으로 구성

### 3️⃣ ex)

  - <학생 릴레이션>에서 '학번'과 '주민번호'는 다른 레코드를 유일하게 구별할수 있는 기본키로 사용될 수 있어 후보키가 될 수 있음
  - 즉, 기본키가 될 수 있는 것 = 후보키


## 🔑 2. 기본키 (Primary Key)

### 1️⃣ 개념

- 후보 키 중 선택한 키
- 릴레이션에서 특정 튜플을 유일하게 구별할 수 있는 속성

### 2️⃣ 기본키의 특징

  - 개체 무결성의 첫번째 조건 : null 값을 가질 수 없음
  - 개체 무결성의 두번째 조건 : 동일한 값이 중복되어 저장될 수 없음

### 3️⃣ ex)

  - <학생 릴레이션>에서 '학번'과 '주민번호'는 후보키임.
  - 여기서 '학번'을 기본키로 설정하면 이미 입력된 값은 다른 학번의 값으로 입력할 수 없음


## 🔑 3. 대체키 (Alternate Key)

### 1️⃣ 개념

- 후보키가 둘 이상일 때 기본키를 제외한 나머지 후보키
- 보조키라고도 함

### 2️⃣ ex)

- <학생 릴레이션>에서 '학번'을 기본키로 정의하면 대체키는 '주민번호'


## 🔑 4. 슈퍼키 (Super Key)

### 1️⃣ 개념

- 한 릴레이션 내에 있는 속성들의 집합으로 구성된 키
- 유일성은 만족하지만 최소성은 만족하지 않음

### 2️⃣ ex)

  - <학생 릴레이션>에서는 '학번', '주민번호', '학번'+'주민번호', '학번'+'주민번호'+'성명' 등으로 슈퍼키를 구성할 수 있음
  - 최소성을 만족시키지 못한다는 말은 '학번'+'주민번호'+'성명'이 슈퍼키인 경우 3개의 속성 조합을 통해 다른 튜플과 구별이 가능하지만, '성명' 단독적으로 슈퍼키를 사용했을 때는 구별이 가능하지 않기 때문에 최소성을 만족시키지 못함
  - 즉, 뭉쳤을 경우 유일성이 생기고 흩어지면 몇몇 속성들은 독단적으로 유일성있는 키로 사용할 수 없음 = 이것을 최소성을 만족하지 못한다고 함

## 🔑 5. 외래키 (Foreign Key)

### 1️⃣ 개념

- 다른 릴레이션의 기본키를 그대로 참조하는 속성의 집합
- 기본키와 대응되어 참조 관계를 표현하는데 중요한 도구로 사용

### 2️⃣ 참조 무결성 조건

- 외래키로 지정되면 기본키에 없는 값은 입력할 수 없음

### 3️⃣ ex)

- <수강 릴레이션>이 <학생 릴레이션>을 참조
- <학생 릴레이션>의 '학번'은 기본키이고, <수강 릴레이션>의 '학번'은 외래키
- <수강 릴레이션>의 '학번'에는 <학생 릴레이션>의 '학번'에 없는 값은 입력할 수 없음


---

##### 참고

- [[DataBase] 키(Key)의 개념 및 종류](https://limkydev.tistory.com/108)
- [Key](https://gyoogle.dev/blog/computer-science/data-base/Key.html)



