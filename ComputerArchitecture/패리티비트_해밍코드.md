# 📌 패리티 비트 & 해밍 코드

### 1. 개요

- 통신 과정에서 데이터의 오류를 확인할 수 있도록 하는 코드
- 패리티 코드는 오류 검출만 가능
- 해밍 코드는 오류 검출과 수정 모두 가능

---

### 2. 패리티 비트 (Parity Bit)

- 특징
    - **1bit**로 오류 검출 (오류 검출하면 송진 컴퓨터에게 데이터 재송신 부탁)
    - 이진수 데이터의 끝에, **0 또는 1의 패리티 비트**를 붙여 전송
- 종류
    - 홀수 패리티(Odd Parity) : **1의 개수가 홀수개**가 되도록 패리티 비트를 설정 (각 비트를 XOR한 값 = 1)
    - 짝수 패리티(Even Parity) : **1의 개수가 짝수개**가 되도록 패리티 비트를 설정 (각 비트를 XOR한 값 = 0)
- 예시 : A(65)
    - 홀수 패리티 : 1000001+1
    - 짝수 패리티 : 1000001+0
- 한계점 : 짝수 개의 비트에서 오류 발생 시 오류 검출 불가능
    - 예시 - 짝수 패리티인 경우
    
      | 원본 데이터 | 전송된 데이터 | 오류 검출 |
      | --- | --- | --- |
      | 100110 | 1001101 | 성공 |
      | 100110 | 1001001 | 성공 |
      | 100110 | 1010101 | 실패 |

---

### 3. 해밍 코드 (Hamming Code)

- 특징
    - 오류의 검출뿐만 아니라 수정까지 가능 (자기 정정 부호)
    - 전송 비트 중 2^n번째(1,2,4,8,16,…)를 오류 검출을 위한 패리티 비트로 사용
    - 오류 검출 및 교정을 위한 패리티 비트가 많이 필요함
- 해밍 코드 생성 방법
    - 필요한 패리티 비트 수
        
        ![image](https://user-images.githubusercontent.com/54051304/197397259-8ae321dd-4c6f-4e7c-9964-a000c52dfd76.png)
        
    
    - 데이터 구성 : 전송 비트 중 2^n번째 비트에 패리티 비트를 위치시키고 나머지에 데이터 비트를 삽입
        - 예시 : Little Endian 기준 8비트 데이터, P는 패리티 비트 D는 데이터 비트
    
          | Bit12 | Bit11 | Bit10 | Bit9 | Bit8 | Bit7 | Bit6 | Bit5 | Bit4 | Bit3 | Bit2 | Bit1 |
          | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
          | D8 | D7 | D6 | D5 | P8 | D4 | D3 | D2 | P4 | D1 | P2 | P1 |
    - 패리티 비트의 값 결정
        - n번째 패리티 비트의 체크 범위 : n번째에서 시작하여 n비트만큼을 포함하고 n비트식 건너뛴 비트들, 즉 아래 표에서 1에 해당하는 위치의 값
        
          | P4 | P2 | P1 |  |
          | --- | --- | --- | --- |
          | 0 | 0 | 0 | 0 |
          | 0 | 0 | 1 | 1 |
          | 0 | 1 | 0 | 2 |
          | 0 | 1 | 1 | 3 |
          | 1 | 0 | 0 | 4 |
          | 1 | 0 | 1 | 5 |
          | 1 | 1 | 0 | 6 |
          | 1 | 1 | 1 | 7 |
        - n번째 패리티 비트는 체크 범위의 비트를 나열하여 패리티 비트 결정
        - 예시 : 데이터 비트 1011일 때 홀수 패리티 비트를 적용하여 해밍 코드로 변환
            - 101?1?? (?는 패리티 비트)
            - 1번째 패리티 비트 : 1번째 비트에서 시작하여, 1비트만큼을 포함하고 1비트씩 건너뛴 비트들을 대상 (→ 1, 3, 5, 7) (1 1 1 ?) ?=0
            - 2번째 패리티 비트 : 2번째 비트에서 시작하여 2비트만큼을 포함하고 2비트씩 건너뛴 비트들을 대상 (→ 2, 3, 6, 7) (1 0 1 ?) ?=1
            - 4번째 패리티 비트 : 4번째 비트에서 시작하여 4비트만큼을 포함하고 4비트씩 건너뛴 비트들을 대상 (→ 4, 5, 6, 7) (1 0 1 ?) ?=1
            - 답 : 1011110
    
- 오류 수정 방법
    - n번째 패리티 비트의 체크 범위를 나열하여 패리티비트를 순서대로 나열 후 10진법으로 바꾸어 해당 비트 수정
    - 예시 : 1101100 (짝수 패리티 비트)
        - 1 : 1, 3, 5, 7번째 비트 확인 0+1+0+1 = 0
        - 2 : 2, 3, 6, 7번째 비트 확인 0+1+1+1 = 1
        - 3 : 4, 5, 6, 7번째 비트 확인 1+0+1+1 = 1
        - 110(2) = 6번째 비트 수정 (000일 경우 오류 없음)
        - 답 : 1001100
        
- 한계점 : 1bit의 오류를 검출하여 정정할 수 있음

---

### 참고

- [패리티 비트와 해밍 코드](https://unfunhy.tistory.com/116)
- [해밍코드 문제 예시](https://wooono.tistory.com/400)
