## ì˜µì €ë²„ íŒ¨í„´

### ê°œë…
- ê°ì²´ì˜ ìƒíƒœ ë³€í™”ë¥¼ ê´€ì°°í•˜ëŠ” ê´€ì°°ìë“¤, ì¦‰ Observerë“¤ì˜ ëª©ë¡ì„ ê°ì²´ì— ë“±ë¡í•˜ì—¬ ìƒíƒœ ë³€í™”ê°€ ìˆì„ ë•Œë§ˆë‹¤ notify ë“±ì„ í†µí•´ ê°ì²´ê°€ ì§ì ‘ ëª©ë¡ì˜ ê° Observerì—ê²Œ í†µì§€í•˜ë„ë¡ í•˜ëŠ” ë””ìì¸ íŒ¨í„´
- ì¦‰, ì–´ë–¤ ê°ì²´ì˜ ìƒíƒœê°€ ë³€í•  ë•Œ, ê·¸ì™€ ì—°ê´€ëœ ê°ì²´ë“¤ì—ê²Œ ì•Œë¦¼ì„ ë³´ë‚´ëŠ” ë””ìì¸ íŒ¨í„´
   - í•˜ë‚˜ í˜¹ì€ ì—¬ëŸ¬ í´ë˜ìŠ¤ê°€ ì–´ë–¤ í´ë˜ìŠ¤ì˜ ìƒíƒœ ë³€í™”ì— ë”°ë¼ ë™ì‘í•´ì•¼í•˜ëŠ” ê²½ìš°
- ì£¼ë¡œ ë¶„ì‚° ì´ë²¤íŠ¸ í•¸ë“¤ë§ ì‹œìŠ¤í…œ êµ¬í˜„ì— ì‚¬ìš©
- pub/sub (ë°œí–‰/êµ¬ë…) ëª¨ë¸ë¡œ ì•Œë ¤ì ¸ ìˆìŒ

### ì ìš© ì‚¬ë¡€
 - ê°ì²´(ğŸ“º **ìœ íˆ¬ë²„**)ì˜ ìƒíƒœ ë³€í™”ë¥¼ ê´€ì°°í•˜ëŠ” Observerë“¤(ğŸ§‘â€ğŸ¤â€ğŸ§‘ **êµ¬ë…ì**)ì˜ ëª©ë¡ì„           
 - ê°ì²´(ğŸ“º **ìœ íˆ¬ë²„**)ì— ë“±ë¡í•˜ì—¬ ìƒíƒœ ë³€í™”ê°€ ìˆì„ ë•Œë§ˆë‹¤ notify ë“±ì„ í†µí•´          
- ê°ì²´(ğŸ“º **ìœ íˆ¬ë²„**)ê°€ ì§ì ‘ ëª©ë¡ì˜ ê° Observer((ğŸ§‘â€ğŸ¤â€ğŸ§‘ **êµ¬ë…ì**)ì—ê²Œ í†µì§€         

### ì¥ì 
- ì‹¤ì‹œê°„ìœ¼ë¡œ í•œ ê°ì²´ì˜ ë³€ê²½ì‚¬í•­ì„ ë‹¤ë¥¸ ê°ì²´ì—ê²Œ ì „íŒŒí•  ìˆ˜ ìˆë‹¤.
- *ëŠìŠ¨í•œ ê²°í•© (Loose Coupling)* ìœ¼ë¡œ ì‹œìŠ¤í…œì´ ìœ ì—°í•˜ê³  ê°ì²´ê°„ì˜ ì˜ì¡´ì„±ì„ ì œê±°í•  ìˆ˜ ìˆë‹¤.
   - ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ì§ì ‘ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤ì˜ ì˜ì¡´ì„±ì„ ì¤„ì´ëŠ” ê²ƒì„ ë§í•œë‹¤.

### ë‹¨ì 
- ë„ˆë¬´ ë§ì´ ì‚¬ìš©í•  ê²½ìš° ìƒíƒœ ê´€ë¦¬ê°€ í˜ë“¤ ìˆ˜ ìˆë‹¤.
- ë°ì´í„° ë°°ë¶„ì— ë¬¸ì œê°€ ë°œìƒí•˜ë©´ í° ë¬¸ì œë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆë‹¤.

### êµ¬í˜„
- Observer ë˜ëŠ” Listenerë¼ ë¶ˆë¦¬ëŠ” í•˜ë‚˜ ì´ìƒì˜ ê°ì²´ë¥¼ ê´€ì°° ëŒ€ìƒì´ ë˜ëŠ” ê°ì²´ì— ë“±ë¡ì‹œí‚¨ í›„ ê°ê°ì˜ Observerë“¤ì€ ê´€ì°° ëŒ€ìƒì¸ ê°ì²´ê°€ ë°œìƒì‹œí‚¤ëŠ” ì´ë²¤íŠ¸ë¥¼ ë°›ì•„ ì²˜ë¦¬í•œë‹¤.
   - ê´€ì°° ëŒ€ìƒì¸ ê°ì²´ëŠ” "ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ì£¼ì²´"ë¼ëŠ” ì˜ë¯¸ì—ì„œ í•˜ë‹¨ì— Subjectë¡œ í‘œì‹œë˜ì–´ ìˆë‹¤.   
- í•µì‹¬ì€ ê´€ì°° ëŒ€ìƒ ì¦‰, ì£¼ì²´ ê°ì²´ì™€ Observer ê°ì²´ì˜ ê²°í•©ë„ë¥¼ ëŠìŠ¨í•˜ê²Œ ìœ ì§€í•˜ëŠ” ê²ƒ!
        
![image](https://github.com/SeoYeonBae/CS_study/assets/63505110/a1e254f4-00fa-4eb1-baec-fd59c2516652)

- êµ¬í˜„ ë°©ë²•ì— ì—¬ëŸ¬ê°€ì§€ê°€ ìˆì§€ë§Œ ëŒ€ë¶€ë¶„ ì£¼ì œ(Subject) ì¸í„°í˜ì´ìŠ¤ì™€ ì˜µì €ë²„(Observer) ì¸í„°í˜ì´ìŠ¤ê°€ ë“¤ì–´ê°€ìˆëŠ” í´ë˜ìŠ¤ ë””ìì¸

1. Observable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ì—¬ ì£¼ì œ ê°ì²´ í´ë˜ìŠ¤ ë§Œë“¤ê¸°
  ```java
 
  interface Observable {
      void addSubscriber(Observer o);
   	void deleteSubscriber(Observer o);
   	void notifySubscribers();
  }

  class Youtuber implements Observable {
        
      List<Observer> subscribers = new ArrayList<>();

      // ë©”ì†Œë“œ ì¬ì •ì˜
      @Override
       public void addSubscriber(Observer o) {
           observers.add(o);
           System.out.println(o + " êµ¬ë… ì™„ë£Œ");
       }
  
       @Override
       public void deleteSubscriber(Observer o) {
           observers.remove(o);
           System.out.println(o + " êµ¬ë… ì·¨ì†Œ");
       }
   
       @Override
       public void notifySubscribers() {
           for(Observer o : observers) {
               o.update(); 
           }
       }

  }
  ```
2. Observer ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ì—¬ Observer í´ë˜ìŠ¤ ë§Œë“¤ê¸°
  ```java
  
  interface Observer {
      void update();
  }

  class SubscriberA implements Observer {
      @Override
      public void update(){
         System.out.println("SubscriberAì—ê²Œ ìƒˆë¡œìš´ ê²Œì‹œë¬¼ ì•Œë¦¼ì´ ì™”ìŠµë‹ˆë‹¤.");
      }

  class SubscriberB implements Observer {
       @Override
      public void update(){
         System.out.println("SubscriberBì—ê²Œ ìƒˆë¡œìš´ ê²Œì‹œë¬¼ ì•Œë¦¼ì´ ì™”ìŠµë‹ˆë‹¤.");
      }
  }
  ```

3. í´ë˜ìŠ¤ íë¦„
```java
public class Client {
    public static void main(String[] args) {

        // ë°œí–‰ì ë“±ë¡
        Observable publisher = new Youtuber();

        // ë°œí–‰ìë¥¼ êµ¬ë…í•  ê´€ì°°ìë“¤ ë¦¬ìŠ¤íŠ¸ë¡œ ë“±ë¡
        Observer o1 = new SubscriberA();
        Observer o2 = new SubscriberB();
        publisher.addSubscriber(o1);
        publisher.addSubscriber(o2);

        // ê´€ì°°ìì—ê²Œ ì´ë²¤íŠ¸ ì „íŒŒ
        publisher.notifySubscribers();

        // SubscriberBê°€ êµ¬ë… ì·¨ì†Œ
        publisher.deleteSubscriber(o2);

        // SubscriberAì—ê²Œë§Œ ì´ë²¤íŠ¸ ì „íŒŒ
        publisher.notifySubscribers();
    }
}
```
```bash
SubscriberA êµ¬ë… ì™„ë£Œ
SubscriberB êµ¬ë… ì™„ë£Œ
SubscriberAì—ê²Œ ìƒˆë¡œìš´ ê²Œì‹œë¬¼ ì•Œë¦¼ì´ ì™”ìŠµë‹ˆë‹¤.
SubscriberBì—ê²Œ ìƒˆë¡œìš´ ê²Œì‹œë¬¼ ì•Œë¦¼ì´ ì™”ìŠµë‹ˆë‹¤.
SubscriberB êµ¬ë… ì·¨ì†Œ
SubscriberAì—ê²Œ ìƒˆë¡œìš´ ê²Œì‹œë¬¼ ì•Œë¦¼ì´ ì™”ìŠµë‹ˆë‹¤.

```

### Java ë‚´ì¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©
- Javaì—ì„œ ìì²´ì ìœ¼ë¡œ ì§€ì›í•˜ëŠ” ì˜µì €ë²„ íŒ¨í„´ ë¼ì´ë¸ŒëŸ¬ë¦¬
  - Observer ì¸í„°í˜ì´ìŠ¤, Observable í´ë˜ìŠ¤      
```java
  import java.util.Observable;

  // Javaê°€ ì œê³µí•˜ëŠ” Observable ë©”ì†Œë“œ
  class Observable {
      addObserver()
   	deleteObserver()
   	notifyObservers()
   	setChanged()
      ...
  }

  import java.util.Observer;

  // Javaê°€ ì œê³µí•˜ëŠ” Observer ë©”ì†Œë“œ
  interface Observer {
     update()
  }
```
1. Observer ìƒì„±
   - Observerë¡œ ë“±ë¡í•˜ë ¤ëŠ” í´ë˜ìŠ¤ì— java.util.Observer ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„(implements)í•˜ê³ 
   - êµ¬ë…í•˜ë ¤ëŠ” Observable ê°ì²´ì˜ `addObserver()` ë©”ì†Œë“œ í˜¸ì¶œ

2. Observable ê°ì²´ê°€ notify
   - Observable í´ë˜ìŠ¤ë¥¼ ìƒì†(extends)ë°›ì€ ì£¼ì œ ê°ì²´ëŠ” `setChanged()` ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ê°ì²´ì˜ ìƒíƒœê°€ ë°”ë€Œì—ˆë‹¤ëŠ” ê²ƒì„ ì•Œë¦°ë‹¤.
      - ì¼ì¢…ì˜ í•„í„° ì—­í• 
      - ì˜ˆë¥¼ ë“¤ì–´, ì„¼ì„œê°€ 1ë‹¨ìœ„ë¡œ ìì£¼ ì›€ì§ì´ëŠ”ë° ë°”ë€” ë•Œë§ˆë‹¤ ì—°ë½í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ 5ë‹¨ìœ„ ì´ìƒìœ¼ë¡œ ë°”ë€” ë•Œë§Œ ì—°ë½ì´ ê°ˆ ìˆ˜ ìˆë„ë¡ ì¤‘ê°„ë‹¤ë¦¬ ì—­í• ì„ í•˜ëŠ” ê²ƒ
      - `notifyObservers()` ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ë„ `setChanged()` ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šìœ¼ë©´ Observerì—ê²Œ ì—°ë½ì´ ê°€ì§€ ì•ŠëŠ”ë‹¤.
   - `notifyObservers()` í˜¹ì€ `notifyObservers(Object arg)` í˜¸ì¶œ
  
3. Observerê°€ ì—°ë½ ë°›ê¸°
   - push ë°©ì‹ìœ¼ë¡œ `notifyObservers(Object arg)` ì²˜ëŸ¼ ì¸ìë¡œ Observerì—ê²Œ ë°ì´í„° ë³´ë‚´ê¸°
   - ë°˜ëŒ€ë¡œ Observer ìª½ì—ì„œ Observable ê°ì²´ë¡œë¶€í„° ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” pull ë°©ì‹
  
### Java ë‚´ì¥ Observer ë‹¨ì 
- Observable ê°ì²´ê°€ í´ë˜ìŠ¤ì´ë‹¤ ë³´ë‹ˆ ë‹¤ì¤‘ìƒì†ì´ ë¶ˆê°€ëŠ¥í•˜ì—¬ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ê³  ìˆë‹¤ë©´ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.
   - ê·¸ë ‡ê¸°ì— ì´ë•ŒëŠ” ì œê³µë˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì•„ë‹Œ ì§ì ‘ êµ¬í˜„í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ì¢‹ë‹¤.
- protected ì ‘ê·¼ì
   - `setChanged()` ë©”ì†Œë“œì˜ ê²½ìš° protected ì ‘ê·¼ìë¡œ Observableì˜ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œë§Œ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.
 



<hr>    
   
### ì°¸ê³ 
- [ì˜µì €ë²„ íŒ¨í„´(Observer Pattern)](https://velog.io/@octo__/%EC%98%B5%EC%A0%80%EB%B2%84-%ED%8C%A8%ED%84%B4Observer-Pattern)
- [Java ì˜µì €ë²„ íŒ¨í„´ (Observer Pattern)](https://futurecreator.github.io/2018/06/04/java-observer-pattern/)
- [](https://inpa.tistory.com/entry/GOF-%F0%9F%92%A0-%EC%98%B5%EC%A0%80%EB%B2%84Observer-%ED%8C%A8%ED%84%B4-%EC%A0%9C%EB%8C%80%EB%A1%9C-%EB%B0%B0%EC%9B%8C%EB%B3%B4%EC%9E%90)
