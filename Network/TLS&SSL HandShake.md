## π“ 1. TLS & SSL HandShake

### β” TLS & SSL
- TLS : Transport Layer Security
- SSL : Secure Sockets Layer
- μ©λ„
  -  μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈμ μΈμ¦μ„ ν•λ”λ° μ‚¬μ©
  -  μ£Όλ΅ μ „μ†΅κ³„μΈµκ³Ό μ‘μ©κ³„μΈµ μ‚¬μ΄μ—μ„ λ³΄μ•μ΅°μΉλ¥Ό ν•λ”λ° μ‚¬μ©
  -  μ°λ¦¬λ“¤μ΄ λ§μ΄ μ ‘ν•κ² λλ” HTTPS://λ” SSLμ„ μ‚¬μ©ν•λ” κ²½μ°λ¥Ό μλ―Έ
  -  μµκ·Ό λ…μΉ­μ€ TLSμ΄κ³  κ³Όκ±° λ…μΉ­μ€ SSL
  -  μ¦‰, λ‘μ€ κ°™μ€ κ²ƒ

### β” HandShake
- ν†µμ‹ μ„ ν•λ” λΈλΌμ°μ €μ™€ μ›Ή μ„λ²„κ°€ μ„λ΅ μ•”νΈν™” ν†µμ‹ μ„ μ‹μ‘ν•  μ μλ„λ΅ μ‹ λ¶„μ„ ν™•μΈν•κ³  ν•„μ”ν• μ •λ³΄λ¥Ό ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ£Όκ±°λ‹ λ°›κ±°λ‹ ν•λ” κ³Όμ •μ΄ μ•…μμ™€ λΉ„μ·ν•μ—¬ λ¶™μ—¬μ§„ μ΄λ¦„


## π¤ 2. SSL λ°©μ‹μ„ μμ„Έν μ•μ•„λ³΄μ!

> SSLμ€ λ€μΉ­ν‚¤μ™€ λΉ„λ€μΉ­ν‚¤λ¥Ό μ„μ–΄μ„ μ‚¬μ©ν•¨

1. Aκ°€ Bλ΅ μ ‘μ† μ”μ²­μ„ λ³΄λ‚΄κ³  Bλ” Aμ—κ² μμ‹ μ κ³µκ°ν‚¤λ¥Ό μ „μ†΅

![image](https://user-images.githubusercontent.com/101535851/221473040-de8e5238-58ea-458e-aa7a-08b47bbf1237.png)


2. Aλ” μμ‹ μ λ€μΉ­ ν‚¤λ¥Ό Bμ—μ„ μ „λ‹¬ λ°›μ€ Bμ κ³µκ° ν‚¤λ΅ μ•”νΈν™”

![image](https://user-images.githubusercontent.com/101535851/221473086-e85c7cae-f95c-4858-9ee6-19a5b0a74ab1.png)

3. μ΄λ ‡κ² μ•”νΈν™”ν• λ€μΉ­ν‚¤λ¥Ό Bμ— μ „λ‹¬ν•κ³  Bλ” μμ‹ μ κ°μΈ ν‚¤λ΅ λ³µνΈν™”ν•μ—¬ Aμ λ€μΉ­ν‚¤λ¥Ό μ–»μ–΄λƒ„

![image](https://user-images.githubusercontent.com/101535851/221473403-a19e8266-e1d6-4f2d-9c84-f0df74c0cc8b.png)

4. μƒκΈ° κ³Όμ •μ„ ν†µν•΄ μ–»μ–΄λ‚Έ λ€μΉ­ν‚¤λ¥Ό ν™μ©ν•μ—¬ Aμ™€ Bλ” μ•μ „ν•κ² ν†µμ‹ ν•¨

![image](https://user-images.githubusercontent.com/101535851/221473467-d10acbe0-c6bd-408a-8f86-bcb9c5fcc519.png)


## π¤ 3. SSL HandShakeμ λ™μ‘ κ³Όμ •

![image](https://user-images.githubusercontent.com/101535851/221474141-7a21913a-67fc-4e3d-9665-a643a9d5d4be.png)

1. "client hello"

  - ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ—κ² "client hello" λ©”μ‹μ§€λ¥Ό λ‹΄μ•„ μ„λ²„λ΅ λ³΄λƒ„
  - μ΄λ• μ•”νΈν™”λ μ •λ³΄(λ²„μ „, μ•”νΈ μ•κ³ λ¦¬μ¦, μ••μ¶• λ°©μ‹, ...)λ“±μ„ λ‹΄μ•„ λ³΄λƒ„

2. "server hello"

  - ν΄λΌμ΄μ–ΈνΈκ°€ λ³΄λ‚Έ μ•”νΈ μ•κ³ λ¦¬μ¦κ³Ό μ••μ¶• λ°©μ‹μ„ λ°›μ
  - μ΄λ¥Ό μ„Έμ… IDμ™€ CA κ³µκ° μΈμ¦μ„, server hello λ©”μ‹μ§€μ™€ ν•¨κ» λ‹΄μ•„ μ‘λ‹µ
  - CA μΈμ¦μ„μ—λ” μ•μΌλ΅ ν†µμ‹  μ΄ν›„ μ‚¬μ©ν•  λ€μΉ­ν‚¤κ°€ μƒμ„±λκΈ° μ „ ν΄λΌμ΄μ–ΈνΈμ—μ„ handshake κ³Όμ • μ† μ•”νΈν™”μ— μ‚¬μ©ν•  κ³µκ°ν‚¤λ¥Ό λ‹΄κ³  μμ

3. CA μΈμ¦μ„ μ ν¨μ„± ν™•μΈ

  - ν΄λΌμ΄μ–ΈνΈ μΈ΅μ€ μ„λ²„μ—μ„ λ³΄λ‚Έ CA μΈμ¦μ„μ— λ€ν•΄ μ ν¨ν•μ§€ CA λ©λ΅μ—μ„ ν™μΈν•λ” κ³Όμ • μ§„ν–‰

4. μ„λ²„μ κ³µκ°ν‚¤λ¥Ό ν†µν• μ•”νΈν™”

  - CA μΈμ¦μ„μ— λ€ν•  μ‹ λΆ°μ„±μ΄ ν™•λ³΄λ μƒν™©μ΄λΌλ©΄
  - ν΄λΌμ΄μ–ΈνΈλ” λ‚μ λ°”μ΄νΈλ¥Ό μƒμ„±ν•΄ μ„λ²„μ κ³µκ°ν‚¤λ΅ μ•”νΈν™”
  - μ΄ λ‚μ λ°”μ΄νΈλ” λ€μΉ­ν‚¤λ¥Ό μ •ν•λ”λ° μ‚¬μ©μ΄ λκ³  μ•μΌλ΅ μ„λ΅ λ©”μ‹μ§€λ¥Ό ν†µμ‹ ν•  λ• μ•”νΈν™”ν•λ”λ° μ‚¬μ©

5. μ¶”κ°€ μ •λ³΄ μ „μ†΅

   - λ§μ•½ 2λ² λ‹¨κ³„μ—μ„ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈ μΈμ¦μ„λ¥Ό ν•¨κ» μ”κµ¬ν• μƒν™©μ΄λΌλ©΄
   - ν΄λΌμ΄μ–ΈνΈμ μΈμ¦μ„ + ν΄λΌμ΄μ–ΈνΈμ κ°μΈν‚¤λ΅ μ•”νΈν™”λ μ„μ΄μ λ°”μ΄νΈ λ¬Έμμ—΄μ„ ν•¨κ» μ „μ†΅


6. ν΄λΌμ΄μ–ΈνΈ λ€μΉ­ λ§μ¤ν„° ν‚¤ μƒμ„±

   - μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ μΈμ¦μ„λ¥Ό ν™•μΈ
   - λ‚μ λ°”μ΄νΈλ¥Ό μμ‹ μ κ°μΈν‚¤λ΅ λ³µνΈν™”ν•μ—¬ λ€μΉ­ λ§μ¤ν„° ν‚¤ μƒμ„±

7. "client finished"

  -  ν΄λΌμ΄μ–ΈνΈλ” handshake κ³Όμ •μ΄ μ™„λ£λμ—λ‹¤λ” "finished" λ©”μ‹μ§€λ¥Ό μ„λ²„μ— λ³΄λƒ„
  -  μ§€κΈκΉμ§€ λ³΄λ‚Έ κµν™ λ‚΄μ—­λ“¤μ„ ν•΄μ‹± ν›„ κ·Έ κ°’μ„ λ€μΉ­ν‚¤λ΅ μ•”νΈν™”ν•μ—¬ κ°™μ΄ λ‹΄μ•„ λ³΄λƒ„

8.  "server finished"

  - μ„λ²„λ„ λ™μΌν•κ² κµν™ λ‚΄μ©λ“¤μ„ ν•΄μ‹±ν• λ’¤ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ³΄λ‚΄μ¤€ κ°’κ³Ό μΌμΉν•λ”μ§€ ν™•μΈ
  - μΌμΉν•λ‹¤λ©΄ μ„λ²„λ„ "finished" λ©”μ‹μ§€λ¥Ό μ΄λ²μ— λ§λ“  λ€μΉ­ν‚¤λ΅ μ•”νΈν™”ν•μ—¬ λ³΄λƒ„

9. exchange message

  - ν΄λΌμ΄μ–ΈνΈλ” ν•΄λ‹Ή λ©”μ‹μ§€λ¥Ό λ€μΉ­ν‚¤λ΅ λ³µνΈν™”
  - μ„λ΅ ν†µμ‹ μ΄ κ°€λ¥ν• μ‹ λΆ°λ°›μ€ μ‚¬μ©μλ€ κ±Έ μΈμ§€
  - μ•μΌλ΅ ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ™€ ν•΄λ‹Ή λ€μΉ­ν‚¤λ΅ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›μ„ μ μκ² λ¨

## π“ƒ 4. CA(Certificate Authority)

- μΈμ¦μ„μ μ—­ν•  : ν΄λΌμ΄μ–ΈνΈκ°€ μ ‘μ†ν• μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈκ°€ μλ„ν• μ„λ²„κ°€ λ§λ”μ§€λ¥Ό λ³΄μ¥ν•λ” κ²ƒ
- μ΄ μΌμ„ ν•΄μ£Όλ” λ―Όκ°„  κΈ°μ—…μ΄ μλ”λ° μ΄λ¥Ό CAλΌκ³  ν•¨
- κ°λ°μ μ…μ¥μ—μ„ HTTPSλ¥Ό μ μ©ν•λ ¤λ©΄ μ‹ λΆ°ν•  μ μλ” CA κΈ°μ—…μ μΈμ¦μ„λ¥Ό κµ¬μ…ν•΄μ•Ό ν•¨
- μ΄λ¥Ό κµ¬μ…ν•λ©΄ CA κΈ°μ—…μ κ°μΈν‚¤λ¥Ό μ΄μ©ν•­ μ•”νΈν™”ν• μΈμ¦μ„λ¥Ό μ¤


## π“ƒ 5. SSL μΈμ¦μ„

- μΈμ¦μ„λ¥Ό λ°κΈ‰ν• CA, μ„λΉ„μ¤μ λ„λ©”μΈλ“±κ³Ό κ°™μ€ μ„λΉ„μ¤μ μ •λ³΄μ™€ μ„λ²„ μΈ΅ κ³µκ° ν‚¤κ°€ λ“¤μ–΄μμ
- μ„λ²„μ—λ” λ³ΈμΈμ κ°μΈν‚¤κ°€ μκ³ , ν΄λΌμ΄μ–ΈνΈκ°€ μ‚¬μ©ν•  κ³µκ°ν‚¤λ” μΈμ¦μ„ μ•μ— μλ” μƒν™© -> ν΄λΌμ΄μ–ΈνΈλ” CAμ κ°μΈν‚¤λ΅ μ•”νΈν™”λ μΈμ¦μ„λ¥Ό μ–΄λ–»κ² λ³µνΈν™”ν• κΉ?
- μ°λ¦¬κ°€ μ‚¬μ©ν•λ” λΈλΌμ°μ €μ— CA κΈ°κ΄€ λ¦¬μ¤νΈμ™€ ν•΄λ‹Ή κΈ°κ΄€μ κ³µκ°ν‚¤κ°€λ‹΄κ²¨ μμ!
- λ”°λΌμ„ λ‚΄μ¥λ CAμ κ³µκ°ν‚¤λ¥Ό ν™μ©ν•΄ μΈμ¦μ„λ¥Ό λ³µνΈν™”ν•¨μΌλ΅μ¨ μΈμ¦μ„λ¥Ό κ²€μ¦ν• λ’¤ μ„λ²„μ κ³µκ°ν‚¤λ¥Ό κ°€μ Έμ΄

---

##### μ°Έκ³ 

- [SSL λ°©μ‹, CAμ™€ μΈμ¦μ„](https://gyoogle.dev/blog/computer-science/network/TLS%20HandShake.html)
- [TLS/SSL HandShakeμ— λ€ν•΄ μμ„Έν λ‚μ™€μμ](https://steady-coding.tistory.com/512)
- [TLSμ™€ SSLμ κ°μ”λ¥Ό λ” μμ„Έν λ³΄κ³  μ‹¶λ‹¤λ©΄](https://hanjungv.github.io/2017-11-07-1_CS_SSL/)

