## π’» λ΅λ“ λ°Έλ°μ‹±(Load Balancing)

- λ„¤νΈμ›ν¬ λλ” μ„λ²„μ— κ°€ν•΄μ§€λ” λ¶€ν•(=λ΅λ“)λ¥Ό λ¶„μ‚°(=λ°Έλ°μ‹±) ν•΄μ£Όλ” κΈ°μ 
- λ¶„μ‚°μ‹ μ›Ή μ„λΉ„μ¤λ΅ Load Balancerλ¥Ό ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ μ‚¬μ΄μ— λ‘κ³ , λ¶€ν•κ°€ μΌμ–΄λ‚μ§€ μ•λ„λ΅ μ—¬λ¬ μ„λ²„μ— λ¶„μ‚°μ‹μΌμ£Όλ” λ°©μ‹
- μΈν„°λ„· μ„λΉ„μ¤μ— λ΅λ“λ°Έλ°μ‹± μ μ©ν•λ©΄ λ‚΄λ¶€ λ„¤νΈμ›ν¬ κµ¬μ΅° μ¨κΈΈ μ μμ–΄ ν¬λν‚Ήμ„ λ§‰μ„ μ μλ” λ³΄μ•μ  μ΄μ  μ–»μ„ μ μμ

### β‘οΈ Load Balancer                    
 ![image](https://user-images.githubusercontent.com/63505110/223427494-7fba7e14-28d4-4f5f-a2ee-e2ce21b2518f.png)
- μ„λ²„μ— κ°€ν•΄μ§€λ” λ¶€ν•λ¥Ό λ¶„μ‚°ν•΄μ£Όλ” μ¥μΉ λλ” κΈ°μ  ν†µμΉ­
### μ„λ²„ μ„ νƒ λ°©μ‹ ( Load Balancing Algorithm )
  -  λΌμ΄λ“ λ΅λΉ (Round Robin)
      - λ“¤μ–΄μ¨ μ”μ²­μ„ μμ„λ€λ΅ λμ•„κ°€λ©° λ°°μ •
      - μ—¬λ¬ κ°μ μμ›μ΄ λ™μΌν• μ„±λ¥μ΄λ©° μ„λ²„μ™€μ μ—°κ²°μ΄ μ¤λ μ§€μ†λμ§€ μ•μ„ κ²½μ° μ ν•©ν• λ°©μ‹           
  -  κ°€μ¤‘ λΌμ΄λ“ λ΅λΉ (Weighted Round Robin)
      - κ°κ°μ μμ›(μ„λ²„)λ§λ‹¤ κ°€μ¤‘μΉλ¥Ό λ§¤κΉ€
      - κ°€μ¤‘μΉκ°€ λ†’μ€ (νΈλν”½ μ²λ¦¬ λ¥λ ¥μ΄ λ†’μ€) μ„λ²„μ— μ°μ„ μ μΌλ΅ ν΄λΌμ΄μ–ΈνΈ μ”μ²­ λ°°μ •
      - λΌμ΄λ“ λ΅λΉκ³Ό λ‹¤λ¥΄κ² μ„λ²„μ μ„±λ¥μ΄ λ‹¤λ¥Ό λ• μ‚¬μ©               
  -  IP ν•΄μ‹
      - ν΄λΌμ΄μ–ΈνΈμ IP μ£Όμ†λ¥Ό νΉμ • μ„λ²„λ΅ λ§¤ν•‘ν•μ—¬ μ”μ²­ μ²λ¦¬
      - ν΄λΌμ΄μ–ΈνΈμ IP ν•΄μ‹±ν•μ—¬ λ¶€ν• λ¶„μ‚°
      - μ‚¬μ©μκ°€ ν•­μƒ λ‘κ°™μ€ μ„λ²„λ΅ μ—°κ²°λλ” κ²ƒμ„ λ³΄μ¥                
  -  μµμ† μ—°κ²° (Least Connection)
      - ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ΄ λ“¤μ–΄μ¨ μ‹μ μ— κ°€μ¥ μ μ€ μ—°κ²° μƒνƒμΈ μ„λ²„μ— νΈλν”½ λ¶„μ‚°             
  -  μµμ† μ‘λ‹µ μ‹κ°„(Least Response Time)
      - κ°€μ¥ μ μ€ μ—°κ²° μƒνƒμ™€ κ°€μ¥ μ§§μ€ μ‘λ‹µ μ‹κ°„μ„ λ³΄μ΄λ” μ„λ²„μ— μ°μ„ μ μΌλ΅ νΈλν”½ λ¶„μ‚°              
### νΈλν”½ μ¦κ°€μ— λ€μ²ν•  μ μλ” 2κ°€μ§€ λ°©λ²•               
                      
 ![image](https://user-images.githubusercontent.com/63505110/223435376-288a9534-67ad-467f-a5e6-7aed26d9d345.png)

  - Scale-up
    - μμ›μ μ„±λ¥ μμ²΄λ¥Ό ν–¥μƒμ‹ν‚΄
    - CPUλΌλ©΄ i3 -> i5 -> i7
    - μ„λ²„λΌλ©΄ 100μ νΈλν”½μ„ κ°λ‹Ήν•  μ μλ” κ²ƒμ„ 200, 300μΌλ΅ μ¦κ°€μ‹ν‚΄
               
  - Scale-out
    - μμ›μ μ μ¦κ°€μ‹ν‚΄
    - CPUλΌλ©΄ i3 CPUλ¥Ό 3,4 κ°μ”© μ¥μ°©μ‹ν‚¤λ” λ©€ν‹° ν”„λ΅μ„Έμ„
    - μ„λ²„λΌλ©΄ λ™μΌν• νΈλν”½μ„ κ°λ‹Ήν•  μ μλ” λ‹¤μ¤‘ μ„λ²„
    - μ—¬λ¬ λ€μ μ„λ²„ λ•λ¶„μ— λ¬΄μ¤‘λ‹¨ μ„λΉ„μ¤ μ κ³µ κ°€λ¥
    - ν•λ“μ›¨μ–΄ ν–¥μƒν•λ” λΉ„μ©λ³΄λ‹¤ μ„λ²„ ν• λ€ μ¶”κ°€ λΉ„μ©μ΄ λ” μ μ
### λ΅λ“ λ°Έλ°μ„ μΆ…λ¥
  - L4 λ΅λ“λ°Έλ°μ„, L7 λ΅λ“λ°Έλ°μ„
  - L4 λ΅λ“λ°Έλ°μ„λ¶€ν„° ν¬νΈ(Port) μ •λ³΄λ¥Ό λ°”νƒ•μΌλ΅ λ΅λ“λ¥Ό λ¶„μ‚°ν•λ” κ²ƒμ΄ κ°€λ¥ν•κΈ° λ•λ¬Έ
  - L4 Load Balancer
    - ν¬νΈ μ •λ³΄μ™€ TCP, UDP λ“±κ³Ό κ°™μ€ Transport Layer (L4) ν”„λ΅ν† μ½μ μ •λ³΄λ¥Ό λ°”νƒ•μΌλ΅ λΌμ΄λ“ λ΅λΉκ³Ό κ°™μ€ λ΅λ“ λ°Έλ°μ‹± μ•κ³ λ¦¬μ¦μ„ μ£Όλ΅ μ‚¬μ©ν•μ—¬ λ¶€ν• λ¶„μ‚° μ‹¤ν–‰ 
  - L7 Load Balancer         
    - HTTP, FTP, SMTP λ“±κ³Ό κ°™μ€ Application Layer (L7) ν”„λ΅ν† μ½μ„ ν™μ©ν•μ—¬ λ¶€ν• λ¶„μ‚° μ‹¤ν–‰              
  ![image](https://user-images.githubusercontent.com/63505110/223447260-2e64511e-cecc-40e9-91c4-1d3ab0add6b4.png)
