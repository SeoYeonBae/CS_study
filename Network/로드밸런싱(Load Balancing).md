## 💻 로드 밸런싱(Load Balancing)

- 네트워크 또는 서버에 가해지는 부하(=로드)를 분산(=밸런싱) 해주는 기술
- 분산식 웹 서비스로 Load Balancer를 클라이언트와 서버 사이에 두고, 부하가 일어나지 않도록 여러 서버에 분산시켜주는 방식
- 인터넷 서비스에 로드밸런싱 적용하면 내부 네트워크 구조 숨길 수 있어 크래킹을 막을 수 있는 보안적 이점 얻을 수 있음

### ☑️ Load Balancer                    
 ![image](https://user-images.githubusercontent.com/63505110/223427494-7fba7e14-28d4-4f5f-a2ee-e2ce21b2518f.png)
- 서버에 가해지는 부하를 분산해주는 장치 또는 기술 통칭
### 서버 선택 방식 ( Load Balancing Algorithm )
  -  라운드 로빈 (Round Robin)
      - 들어온 요청을 순서대로 돌아가며 배정
      - 여러 개의 자원이 동일한 성능이며 서버와의 연결이 오래 지속되지 않을 경우 적합한 방식           
  -  가중 라운드 로빈 (Weighted Round Robin)
      - 각각의 자원(서버)마다 가중치를 매김
      - 가중치가 높은 (트래픽 처리 능력이 높은) 서버에 우선적으로 클라이언트 요청 배정
      - 라운드 로빈과 다르게 서버의 성능이 다를 때 사용               
  -  IP 해시
      - 클라이언트의 IP 주소를 특정 서버로 매핑하여 요청 처리
      - 클라이언트의 IP 해싱하여 부하 분산
      - 사용자가 항상 똑같은 서버로 연결되는 것을 보장                
  -  최소 연결 (Least Connection)
      - 클라이언트의 요청이 들어온 시점에 가장 적은 연결 상태인 서버에 트래픽 분산             
  -  최소 응답 시간(Least Response Time)
      - 가장 적은 연결 상태와 가장 짧은 응답 시간을 보이는 서버에 우선적으로 트래픽 분산              
### 트래픽 증가에 대처할 수 있는 2가지 방법               
                      
 ![image](https://user-images.githubusercontent.com/63505110/223435376-288a9534-67ad-467f-a5e6-7aed26d9d345.png)

  - Scale-up
    - 자원의 성능 자체를 향상시킴
    - CPU라면 i3 -> i5 -> i7
    - 서버라면 100의 트래픽을 감당할 수 있는 것을 200, 300으로 증가시킴
               
  - Scale-out
    - 자원의 수 증가시킴
    - CPU라면 i3 CPU를 3,4 개씩 장착시키는 멀티 프로세서
    - 서버라면 동일한 트래픽을 감당할 수 있는 다중 서버
    - 여러 대의 서버 덕분에 무중단 서비스 제공 가능
    - 하드웨어 향상하는 비용보다 서버 한 대 추가 비용이 더 적음
### 로드 밸런서 종류
  - L4 로드밸런서, L7 로드밸런서
  - L4 로드밸런서부터 포트(Port) 정보를 바탕으로 로드를 분산하는 것이 가능하기 때문
  - L4 Load Balancer
    - 포트 정보와 TCP, UDP 등과 같은 Transport Layer (L4) 프로토콜의 정보를 바탕으로 라운드 로빈과 같은 로드 밸런싱 알고리즘을 주로 사용하여 부하 분산 실행 
  - L7 Load Balancer         
    - HTTP, FTP, SMTP 등과 같은 Application Layer (L7) 프로토콜을 활용하여 부하 분산 실행              
  ![image](https://user-images.githubusercontent.com/63505110/223447260-2e64511e-cecc-40e9-91c4-1d3ab0add6b4.png)
